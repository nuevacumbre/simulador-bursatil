import{u as y,o as n,c as i,a as s,f as d,t as v,g as c,h as R,i as g,v as f,e as b,d as x,w as k,j as u,r as C,k as V}from"./index-D7JIC3SQ.js";const q={class:"container mt-5"},E={class:"row justify-content-center"},M={class:"col-md-6"},N={class:"card shadow"},P={class:"card-body"},S={key:0,class:"alert alert-danger"},U={key:1,class:"alert alert-success"},j={class:"mb-3"},B={class:"mb-3"},L={class:"mb-3"},T={key:0,class:"text-danger"},D=["disabled"],A={key:0,class:"spinner-border spinner-border-sm me-2"},I={class:"mt-3 text-center mb-0"},F={__name:"RegisterPage",setup(Y){const t=y(),_=V(),m=u(""),r=u(""),a=u(""),p=u(""),w=async()=>{if(r.value!==a.value){t.error="Las contraseñas no coinciden";return}console.log("Enviando registro...");const o=await t.register(m.value,r.value);console.log("Resultado recibido:",o),o&&o.success?(console.log("Registro exitoso, redirigiendo..."),p.value="Registro exitoso. Redirigiendo...",setTimeout(()=>{_.push({name:"dashboard"})},1500)):o&&o.error?console.error("Error en registro:",o.error):console.log("Resultado inesperado:",o)};return(o,e)=>{const h=C("router-link");return n(),i("div",q,[s("div",E,[s("div",M,[s("div",N,[e[9]||(e[9]=s("div",{class:"card-header bg-success text-white"},[s("h4",{class:"mb-0"},"Registro de Usuario")],-1)),s("div",P,[d(t).error?(n(),i("div",S,v(d(t).error),1)):c("",!0),p.value?(n(),i("div",U,v(p.value),1)):c("",!0),s("form",{onSubmit:R(w,["prevent"])},[s("div",j,[e[3]||(e[3]=s("label",{for:"email",class:"form-label"},"Correo Electrónico",-1)),g(s("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),required:"",placeholder:"ejemplo@correo.com"},null,512),[[f,m.value]])]),s("div",B,[e[4]||(e[4]=s("label",{for:"password",class:"form-label"},"Contraseña",-1)),g(s("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),required:"",placeholder:"Mínimo 6 caracteres",minlength:"6"},null,512),[[f,r.value]]),e[5]||(e[5]=s("small",{class:"text-muted"},"La contraseña debe tener al menos 6 caracteres",-1))]),s("div",L,[e[6]||(e[6]=s("label",{for:"confirmPassword",class:"form-label"},"Confirmar Contraseña",-1)),g(s("input",{type:"password",class:"form-control",id:"confirmPassword","onUpdate:modelValue":e[2]||(e[2]=l=>a.value=l),required:"",placeholder:"Repite tu contraseña"},null,512),[[f,a.value]]),r.value!==a.value&&a.value?(n(),i("small",T," Las contraseñas no coinciden ")):c("",!0)]),s("button",{type:"submit",class:"btn btn-success w-100",disabled:d(t).loading||r.value!==a.value},[d(t).loading?(n(),i("span",A)):c("",!0),b(" "+v(d(t).loading?"Registrando...":"Registrarse"),1)],8,D)],32),s("p",I,[e[8]||(e[8]=b(" ¿Ya tienes cuenta? ",-1)),x(h,{to:{name:"login"}},{default:k(()=>[...e[7]||(e[7]=[b("Inicia sesión aquí",-1)])]),_:1})])])])])])])}}};export{F as default};
